clustering {
  # Spark configuration
  spark {
    master = "local[*]"
    master = ${?SPARK_MASTER}
    app-name = "NewsPulse-TopicClustering"
  }
  
  # Delta Lake paths
  delta {
    embedding-path = "/data/lake/embedding"
    embedding-path = ${?DELTA_EMBEDDING_PATH}
    
    cluster-path = "/data/lake/clusters"
    cluster-path = ${?DELTA_CLUSTER_PATH}
  }
  
  # Clustering algorithm configuration
  algorithm {
    # Number of clusters (for KMeans)
    # Use -1 for automatic detection
    num-clusters = -1
    num-clusters = ${?CLUSTERING_NUM_CLUSTERS}
    
    # Minimum cluster size
    min-cluster-size = 3
    
    # Maximum distance for cluster membership
    max-distance = 0.5
    
    # Algorithm: "kmeans", "bisecting-kmeans", "agglomerative"
    type = "bisecting-kmeans"
  }
  
  # Time window for clustering (hours)
  time-window-hours = 24
  time-window-hours = ${?CLUSTERING_TIME_WINDOW}
  
  # Schedule (cron expression)
  schedule {
    enabled = true
    cron = "0 */30 * * * ?"  # Every 30 minutes
  }
}
