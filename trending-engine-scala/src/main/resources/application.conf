trending {
  # Spark configuration
  spark {
    master = "local[*]"
    master = ${?SPARK_MASTER}
    app-name = "NewsPulse-TrendingEngine"
    
    checkpoint-location = "/tmp/newspulse/trending-checkpoints"
    checkpoint-location = ${?TRENDING_CHECKPOINT_LOCATION}
  }
  
  # Kafka configuration
  kafka {
    bootstrap-servers = "localhost:9092"
    bootstrap-servers = ${?KAFKA_BOOTSTRAP_SERVERS}
    
    input-topic = "news_embedding"
    output-topic = "trending_updates"
  }
  
  # Delta Lake paths
  delta {
    cluster-path = "../data/lake/clusters"
    cluster-path = ${?DELTA_CLUSTER_PATH}

    trending-path = "../data/lake/trending"
    trending-path = ${?DELTA_TRENDING_PATH}
  }
  
  # Elasticsearch configuration
  elasticsearch {
    nodes = "localhost:9200"
    nodes = ${?ELASTICSEARCH_NODES}
    
    index = "news_trending"
  }
  
  # Trending detection parameters
  detection {
    # Time windows for analysis
    windows {
      short = "5 minutes"
      medium = "30 minutes"
      long = "2 hours"
    }
    
    # Minimum articles to consider as trending
    min-articles = 3
    
    # Minimum sources for trending (source diversity)
    min-sources = 2
    
    # Score weights
    weights {
      frequency = 0.4
      velocity = 0.3
      source-diversity = 0.3
    }
    
    # Decay factor for older articles (per hour)
    time-decay = 0.9
  }
  
  # Output configuration
  output {
    # Top N trending topics to output
    top-n = 50
    
    # Refresh interval
    refresh-interval = "1 minute"
  }
}
